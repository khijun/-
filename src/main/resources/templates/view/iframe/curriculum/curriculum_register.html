<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>교육과정 등록</title>
   <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap" rel="stylesheet">
   <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
   <link th:href="@{/css/iframe/curriculum/search-container.css}" rel="stylesheet">
   <link th:href="@{/css/iframe/curriculum/iframe-container.css}" rel="stylesheet">
   <link th:href="@{/css/iframe/curriculum/add-container.css}" rel="stylesheet">
</head>
<body>
<div class="container">
   <!-- 검색 컨테이너 -->
   <form class="search-container" th:action="@{/iframe/curriculum/register}" method="get">
      <div class="input-group">
         <label for="year">학년도</label>
         <select id="year" name="year">
            <option value="">전체</option>
            <option value="2023">2023</option>
            <option value="2024">2024</option>
            <option value="2025">2025</option>
         </select>
      </div>
      <div class="input-group">
         <label for="grade">편성학년</label>
         <select id="grade" name="grade">
            <option value="">전체</option>
            <option value="GRADE_1">1학년</option>
            <option value="GRADE_2">2학년</option>
            <option value="GRADE_3">3학년</option>
            <option value="GRADE_4">4학년</option>
         </select>
      </div>
      <div class="input-group">
         <label for="deptName">학과 이름</label>
         <input type="text" id="deptName" name="deptName" placeholder="예: 컴퓨터공학과">
      </div>
      <div class="input-group">
         <label for="curriculumName">교육과정명</label>
         <input type="text" id="curriculumName" name="curriculumName" placeholder="예: 프로그래밍 기초">
      </div>
      <div class="input-group">
         <label for="category">교육과정 상태</label>
         <select id="category" name="category">
            <option value="">전체</option>
            <option value="active">운영중(활성화)</option>
            <option value="inactive">운영중단(비활성화)</option>
            <option value="deprecated">폐지(사용중단)</option>
         </select>
      </div>
      <div class="button-group">
         <button type="button">신규</button>
         <button type="submit">검색</button>
      </div>
   </form>

   <!-- 검색 결과 컨테이너 -->
   <div class="result-container">
      <div class="result-header">
         <div>학년도</div>
         <div>편성학년</div>
         <div>학과 이름</div>
         <div>교육과정명</div>
         <div>교육과정 상태</div>
      </div>
      <div th:if="${results != null}" th:each="curriculum : ${results}" class="result-row">
         <div th:text="${curriculum.curriculumYear}"></div>
         <div th:text="${curriculum.grade.codeName}"></div>
         <div th:text="${curriculum.dept.deptName}"></div>
         <div th:text="${curriculum.curriculumName}"></div>
         <div th:text="${curriculum.curriculumStatus.codeName}"></div>
      </div>
      <div th:each="curriculum : ${results}"></div>
   </div>
</div>
<div class="add-container" style="display: none;">
   <h3>교육과정 개설</h3>
   <form class="add-form" th:action="@{/iframe/curriculum/register}" method="post">
      <div class="input-group">
         <label for="curriculumYear-addform">학년도</label>
         <input type="number" id="curriculumYear-addform" name="curriculumYear" placeholder="예: 2025" required>
      </div>
      <div class="input-group">
         <label for="grade-addform">편성학년</label>
         <select id="grade-addform" name="grade">
            <option value="GRADE_1">1학년</option>
            <option value="GRADE_2">2학년</option>
            <option value="GRADE_3">3학년</option>
            <option value="GRADE_4">4학년</option>
         </select>
      </div>
      <div class="input-group">
         <label for="deptName-addform">학과 이름</label>
         <input type="text" id="deptName-addform" name="deptName" value="컴퓨터공학과" readonly>
      </div>
      <div class="input-group">
         <label for="curriculumName-addform">교육과정명</label>
         <input type="text" id="curriculumName-addform" name="curriculumName" placeholder="예: 프로그래밍 기초" required>
      </div>
      <div class="input-group">
         <label for="curriculumStatus-addform">교육과정 상태</label>
         <select id="curriculumStatus-addform" name="curriculumStatus" readonly>
            <option value="active">운영중(활성화)</option>
            <option value="inactive">운영중단(비활성화)</option>
            <option value="deprecated">폐지(사용중단)</option>
         </select>
      </div>
      <div class="input-group">
         <label for="subjectName-addform">과목명</label>
         <input type="text" id="subjectName-addform" name="subjectName" value="예: 자료구조">
      </div>
      <div class="input-group">
         <label for="semester-addform">학기</label>
         <input type="text" id="semester-addform" name="semester" value="1학기" readonly>
      </div>
      <div class="input-group">
         <label for="subjectType-addform">이수구분</label>
         <input type="text" id="subjectType-addform" name="subjectType" value="전공필수" readonly>
      </div>
      <div class="button-group">
         <button type="submit">추가</button>
         <button type="button" onclick="toggleAddContainer()">취소</button>
      </div>
   </form>
</div>
<script src="/js/curriculum/toggleAddContainer.js"></script> <!-- 경로를 /static/js/ 대신 /js/로 수정 -->
</body>
</html>
